1) Instalar pg
npm install pg

2) Criar conexÃ£o
const { Pool } = require('pg')
const pool = new Pool({
  host: 'localhost',
  user: 'postgres',
  password: 'sua_senha',
  database: 'banco',
  port: 5432
})

Para abrir e usar um banco PostgreSQL no seu backend Node.js, vocÃª vai precisar de apenas 3 coisas:

âœ… 1. Instalar o PostgreSQL no seu computador

Windows

Instalar o pacote oficial:
ğŸ”¹ PostgreSQL Installer (com pgAdmin)
Inclui: PostgreSQL + pgAdmin + ferramentas de linha de comando.

Durante a instalaÃ§Ã£o vocÃª escolhe:

Porta (padrÃ£o: 5432)

UsuÃ¡rio: postgres

Senha: vocÃª define

Banco inicial: postgres

âœ… 2. Criar o banco onde suas tabelas ficarÃ£o

Depois de instalado, abra o pgAdmin e crie um banco:
Exemplo:
sistema_vendas

âœ… 3. Instalar o driver no Node.js

No seu projeto, instale:
npm install pg


â— Se NÃƒO existir o serviÃ§o:

ğŸ‘‰ significa que O PostgreSQL nÃ£o estÃ¡ instalado no seu PC.

VocÃª precisa instalar aqui:

https://www.enterprisedb.com/downloads/postgres-postgresql-downloads

Baixe o instalador do Windows.
*******************
Se vocÃª jÃ¡ tem um arquivo banco.sql, isso significa que vocÃª pode importar tudo de uma vez no PostgreSQL â€” tabelas, inserts, estrutura, etc.
âœ… 1. Abra o psql

No CMD / PowerShell:

psql -U postgres
Senha: 8451

âœ… 2. Criar o banco "banco" (se ainda nÃ£o existir)
CREATE DATABASE banco;

âœ… 3. Conectar ao banco
\c banco

âœ… 4. Importar o arquivo banco.sql

Agora execute:

\i D:/Contrato/Controle/banco.sql

***************************************************
No banco fica na paste contrato/controle/backend

âœ… 1. Via terminal (mais simples)

Abra o terminal dentro da pasta onde estÃ¡ o arquivo:

cd contrato/controle/backend


Rode o comando:

psql -U postgres -d banco -f banco.sql

Se a senha do PostgreSQL for 8451, ele vai pedir para digitar.

âœ… 2. Especificar caminho absoluto

Se quiser usar o caminho completo:

psql -U postgres -d banco -f "D:/contrato/controle/backend/banco.sql"

******
ğŸ“Œ COMO RODAR

Abra o terminal:

cd D:\Contrato\Controle\backend


Execute:

node server.cjs

ğŸ“Œ O que fazer se aparecer erro "database does not exist"?

VocÃª precisa criar o banco chamado banco no PostgreSQL:

createdb banco


Ou com psql:

psql -U postgres -c "CREATE DATABASE banco;"





















